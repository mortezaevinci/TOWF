<pre class="code">
<span class="srcline"><span class="lineno"><a href="76,1"> 1</a></span><span class="line"><span class="keyword">function</span>  <span class="var type1" id="S2T1U3">q</span>=<span class="message warning" id="M6F176C">myjointlimits</span>(<span class="mxinfo" id="T1:U2"><span class="mxinfo" id="T1:U3"><span class="var type1" id="S2T1U6">q</span></span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="76,2"> 2</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo" id="T10:U5"><span class="mxinfo" id="T2:U6"><span class="var type1" id="S2T1U11">q</span>(<span class="mxinfo" id="T2:U8">3</span>)</span>&gt;<span class="mxinfo" id="T2:U9"><span class="mxinfo" id="T2:U10">pi</span>/<span class="mxinfo" id="T2:U11">2</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="76,3"> 3</a></span><span class="line">    <span class="mxinfo" id="T2:U12"><span class="mxinfo" id="T2:U13"><span class="var type1" id="S2T1U20">q</span>(<span class="mxinfo" id="T2:U15">3</span>)</span>=<span class="mxinfo" id="T2:U16"><span class="mxinfo" id="T2:U17"><span class="var type1" id="S2T1U24">q</span>(<span class="mxinfo" id="T2:U19">3</span>)</span>-<span class="mxinfo" id="T2:U20"><span class="mxinfo" id="T2:U21">pi</span>/<span class="mxinfo" id="T2:U22">2</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,4"> 4</a></span><span class="line">    <span class="mxinfo" id="T2:U23"><span class="mxinfo" id="T2:U24"><span class="var type1" id="S2T1U33">q</span>(<span class="mxinfo" id="T2:U26">4</span>)</span>=<span class="mxinfo" id="T2:U27">-<span class="mxinfo" id="T2:U28"><span class="var type1" id="S2T1U37">q</span>(<span class="mxinfo" id="T2:U30">4</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,5"> 5</a></span><span class="line"><span class="keyword">elseif</span> <span class="mxinfo" id="T10:U31"><span class="mxinfo" id="T2:U32"><span class="var type1" id="S2T1U42">q</span>(<span class="mxinfo" id="T2:U34">3</span>)</span>&lt;<span class="mxinfo" id="T2:U35"><span class="mxinfo" id="T2:U36">-pi</span>/<span class="mxinfo" id="T2:U37">2</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="76,6"> 6</a></span><span class="line">    <span class="mxinfo" id="T2:U38"><span class="mxinfo" id="T2:U39"><span class="var type1" id="S2T1U52">q</span>(<span class="mxinfo" id="T2:U41">3</span>)</span>=<span class="mxinfo" id="T2:U42"><span class="mxinfo" id="T2:U43"><span class="var type1" id="S2T1U56">q</span>(<span class="mxinfo" id="T2:U45">3</span>)</span>+<span class="mxinfo" id="T2:U46"><span class="mxinfo" id="T2:U47">pi</span>/<span class="mxinfo" id="T2:U48">2</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,7"> 7</a></span><span class="line">    <span class="mxinfo" id="T2:U49"><span class="mxinfo" id="T2:U50"><span class="var type1" id="S2T1U65">q</span>(<span class="mxinfo" id="T2:U52">4</span>)</span>=<span class="mxinfo" id="T2:U53">-<span class="mxinfo" id="T2:U54"><span class="var type1" id="S2T1U69">q</span>(<span class="mxinfo" id="T2:U56">4</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,8"> 8</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="76,9"> 9</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo" id="T10:U57"><span class="mxinfo" id="T2:U58"><span class="var type1" id="S2T1U75">q</span>(<span class="mxinfo" id="T2:U60">5</span>)</span>&gt;<span class="mxinfo" id="T2:U61"><span class="mxinfo" id="T2:U62">pi</span>/<span class="mxinfo" id="T2:U63">2</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="76,10">10</a></span><span class="line">    <span class="mxinfo" id="T2:U64"><span class="mxinfo" id="T2:U65"><span class="var type1" id="S2T1U84">q</span>(<span class="mxinfo" id="T2:U67">5</span>)</span>=<span class="mxinfo" id="T2:U68"><span class="mxinfo" id="T2:U69"><span class="var type1" id="S2T1U88">q</span>(<span class="mxinfo" id="T2:U71">5</span>)</span>-<span class="mxinfo" id="T2:U72"><span class="mxinfo" id="T2:U73">pi</span>/<span class="mxinfo" id="T2:U74">2</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,11">11</a></span><span class="line">    <span class="mxinfo" id="T2:U75"><span class="mxinfo" id="T2:U76"><span class="var type1" id="S2T1U97">q</span>(<span class="mxinfo" id="T2:U78">6</span>)</span>=<span class="mxinfo" id="T2:U79">-<span class="mxinfo" id="T2:U80"><span class="var type1" id="S2T1U101">q</span>(<span class="mxinfo" id="T2:U82">6</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,12">12</a></span><span class="line"><span class="keyword">elseif</span> <span class="mxinfo" id="T10:U83"><span class="mxinfo" id="T2:U84"><span class="var type1" id="S2T1U106">q</span>(<span class="mxinfo" id="T2:U86">5</span>)</span>&lt;<span class="mxinfo" id="T2:U87"><span class="mxinfo" id="T2:U88">-pi</span>/<span class="mxinfo" id="T2:U89">2</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="76,13">13</a></span><span class="line">    <span class="mxinfo" id="T2:U90"><span class="mxinfo" id="T2:U91"><span class="var type1" id="S2T1U116">q</span>(<span class="mxinfo" id="T2:U93">5</span>)</span>=<span class="mxinfo" id="T2:U94"><span class="mxinfo" id="T2:U95"><span class="var type1" id="S2T1U120">q</span>(<span class="mxinfo" id="T2:U97">5</span>)</span>+<span class="mxinfo" id="T2:U98"><span class="mxinfo" id="T2:U99">pi</span>/<span class="mxinfo" id="T2:U100">2</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,14">14</a></span><span class="line">    <span class="mxinfo" id="T2:U101"><span class="mxinfo" id="T2:U102"><span class="var type1" id="S2T1U129">q</span>(<span class="mxinfo" id="T2:U104">6</span>)</span>=<span class="mxinfo" id="T2:U105">-<span class="mxinfo" id="T2:U106"><span class="var type1" id="S2T1U133">q</span>(<span class="mxinfo" id="T2:U108">6</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,15">15</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="76,16">16</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="76,17">17</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo" id="T10:U109"><span class="mxinfo" id="T2:U110"><span class="var type1" id="S2T1U139">q</span>(<span class="mxinfo" id="T2:U112">6</span>)</span>&gt;<span class="mxinfo" id="T2:U113"><span class="mxinfo" id="T2:U114">3*pi</span>/<span class="mxinfo" id="T2:U115">2</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="76,18">18</a></span><span class="line">    <span class="mxinfo" id="T2:U116"><span class="mxinfo" id="T2:U117"><span class="var type1" id="S2T1U150">q</span>(<span class="mxinfo" id="T2:U119">6</span>)</span>=<span class="mxinfo" id="T2:U120"><span class="mxinfo" id="T2:U121"><span class="var type1" id="S2T1U154">q</span>(<span class="mxinfo" id="T2:U123">6</span>)</span>-<span class="mxinfo" id="T2:U124"><span class="mxinfo" id="T2:U125">2</span>*<span class="mxinfo" id="T2:U126">pi</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,19">19</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="76,20">20</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="76,21">21</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo" id="T10:U127"><span class="mxinfo" id="T2:U128"><span class="var type1" id="S2T1U164">q</span>(<span class="mxinfo" id="T2:U130">6</span>)</span>&lt;<span class="mxinfo" id="T2:U131"><span class="mxinfo" id="T2:U132">-3*pi</span>/<span class="mxinfo" id="T2:U133">2</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="76,22">22</a></span><span class="line">    <span class="mxinfo" id="T2:U134"><span class="mxinfo" id="T2:U135"><span class="var type1" id="S2T1U176">q</span>(<span class="mxinfo" id="T2:U137">6</span>)</span>=<span class="mxinfo" id="T2:U138"><span class="mxinfo" id="T2:U139"><span class="var type1" id="S2T1U180">q</span>(<span class="mxinfo" id="T2:U141">6</span>)</span>+<span class="mxinfo" id="T2:U142"><span class="mxinfo" id="T2:U143">2</span>*<span class="mxinfo" id="T2:U144">pi</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,23">23</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="76,24">24</a></span><span class="line"><span class="comment">%avoid, the second ikine convergence</span></span></span>
<span class="srcline"><span class="lineno"><a href="76,25">25</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="76,26">26</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="76,27">27</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="76,28">28</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>
